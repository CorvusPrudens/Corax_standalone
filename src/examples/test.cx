
short global;

short add(short x, short y)
{
  if (x > 2) {
    return x + y;
  }
  return x;
}

short expr(short x, short y)
{
  short temp = add(x, y);
  // TODO -- make this post increment not mess with the A register
  return temp++; 
  // note -- temp should be returned before the increment (which will be skipped)
}

void loop() 
{
  global = expr(2, global + 2) + expr(1, 2);
}